/* ************************************************************************** */
/* 
 * ファイル名           imu.h
 * コンポーネント名     IMUシリアル通信
 * 説明                 IMUデータのシリアル受信を行う．
 * 会社名               パーソルエクセルHRパートナーズ（株）
 * 作成日               2023/12/05
 * 作成者               高根
  */
/* ************************************************************************** */
#ifndef __IMU_H
#define __IMU_H
/* ************************************************************************** */
/* pragma定義                                                                 */
/* ************************************************************************** */


/* ************************************************************************** */
/* include(システムヘッダ)                                                    */
/* ************************************************************************** */
#include <stdint.h>

/* ************************************************************************** */
/* include(ユーザ定義ヘッダ)                                                  */
/* ************************************************************************** */


/* ************************************************************************** */
/* マクロ定義                                                                 */
/* ************************************************************************** */
#define DEF_IMU_FRAME_SIZE	(26)								/* RS-422のフレームサイズ */
#define DEF_IMU_FALSE	(-1)									/* fault */
#define DEF_IMU_READ_NODATA (-2)								/* read時空読み判定 */
#define DEF_IMU_TRUE	(0)										/* true  */
#define DEF_IMU_READ_SIZE	(1024)								/* 読み込む受信データのサイズ */
#define DEF_IMU_SAVE_SIZE	(2049)								/* セーブフレームデータのサイズ */
#define DEF_IMU_SHMEM_NAME	"/imu"							    /* 共有メモリ名 */


/* ************************************************************************** */
/* typedef 定義                                                               */
/* ************************************************************************** */


/* ************************************************************************** */
/* enum定義                                                                   */
/* ************************************************************************** */


/* ************************************************************************** */
/* struct/union定義                                                           */
/* ************************************************************************** */
/* IMUデータ */
typedef struct{
	int32_t				Stat;									/* 通信状況 */
	int32_t				imu_Stat;								/* IMUステータス */
	int32_t				Roll;									/* ロール角 */
	int32_t				Pitch;									/* ピッチ角 */
	int32_t				Yaw;									/* 方位角 */
	int32_t				Accel_X;								/* X加速度 */
	int32_t				Accel_Y;								/* Y加速度 */
	int32_t				Accel_Z;								/* Z加速度 */
	int32_t				Angl_X;									/* X角速度 */
	int32_t				Angl_Y;									/* Y角速度 */
	int32_t				Angl_Z;									/* Z角速度 */
}STR_IMU_INFO;




/* ************************************************************************** */
/* extern 変数宣言                                                            */
/* ************************************************************************** */


/* ************************************************************************** */
/* プロトタイプ宣言(公開関数)                                                 */
/* ************************************************************************** */
extern void* imu_serial_main(void* arg);


#endif /* __IMU_H */
