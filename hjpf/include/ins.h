/* ************************************************************************** */
/* 
 * ファイル名           ins.h
 * コンポーネント名     INSシリアル通信
 * 説明                 INSデータのシリアル受信を行う．
 * 会社名               パーソルエクセルHRパートナーズ（株）
 * 作成日               2023/12/04
 * 作成者               高根
  */
/* ************************************************************************** */
#ifndef __INS_SERIAL_H
#define __INS_SERIAL_H
/* ************************************************************************** */
/* pragma定義                                                                 */
/* ************************************************************************** */


/* ************************************************************************** */
/* include(システムヘッダ)                                                    */
/* ************************************************************************** */
#include <stdint.h>

/* ************************************************************************** */
/* include(ユーザ定義ヘッダ)                                                  */
/* ************************************************************************** */


/* ************************************************************************** */
/* マクロ定義                                                                 */
/* ************************************************************************** */
#define DEF_INS_FRAME_SIZE	(26)								/* RS-232Cのフレームサイズ */
#define DEF_INS_FALSE	(-1)									/* fault */
#define DEF_INS_READ_NODATA (-2)								/* read時空読み判定 */
#define DEF_INS_TRUE	(0)										/* true  */
#define DEF_INS_READ_SIZE	(1024)								/* 読み込む受信データのサイズ */
#define DEF_INS_SAVE_SIZE	(2049)								/* セーブフレームデータのサイズ */
#define DEF_INS_SHMEM_NAME  "/ins"                      		/* 共有メモリ名 */
#define DEF_INS_ID_H		(0x38)								/* ID(H) */
#define DEF_INS_ID_L		(0x32)								/* ID(L) */


/* ************************************************************************** */
/* typedef 定義                                                               */
/* ************************************************************************** */


/* ************************************************************************** */
/* enum定義                                                                   */
/* ************************************************************************** */


/* ************************************************************************** */
/* struct/union定義                                                           */
/* ************************************************************************** */
/* INSデータ */
typedef struct{
	int32_t				Stat;									/* 通信状況 */
	int32_t				ins_Stat;								/* モード/ステータス */
	int32_t				Roll;									/* ロール角 */
	int32_t				Pitch;								    /* ピッチ角 */
	int32_t				Yaw;									/* ヨー角 */
	int32_t				Accel_X;								/* X加速度 */
	int32_t				Accel_Y;								/* Y加速度 */
	int32_t				Accel_Z;								/* Z加速度 */
	int32_t				Angl_X;								    /* X角速度 */
	int32_t				Angl_Y;								    /* Y角速度 */
	int32_t				Angl_Z;								    /* Z角速度 */
}STR_INS_INFO;




/* ************************************************************************** */
/* extern 変数宣言                                                            */
/* ************************************************************************** */


/* ************************************************************************** */
/* プロトタイプ宣言(公開関数)                                                 */
/* ************************************************************************** */
extern void* ins_serial_main(void* arg);


#endif /* __INS_SERIAL_H */
